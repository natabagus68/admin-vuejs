import{j as g,m as f,a as u,_ as h,u as x,o as l,c as n,b as e,k as c,v as p,f as m,l as y,F as _,h as w,g as v,t as k,p as G,r as U,i as C}from"./index-e84eaf86.js";import{S}from"./sweetalert2.all-e46bb6d8.js";const I={setup(){return{useCategory:g()}},data(){return{name:"",price:0,image:null,stock:0,categoryId:"Choose Category",description:"",imageUrl:"",fileBool:!1}},computed:{...f(x,["getData"])},methods:{onSelectedImage:function(a){const t=a.target.files[0],i=URL.createObjectURL(t);this.imageUrl=i,this.image=t,this.fileBool=!0},getDataById:async function(){const{id:a}=this.$route.params,r=(await u({method:"get",url:"https://server-kfc-deploy-production.up.railway.app/products/"+a,headers:{access_token:localStorage.getItem("access_token")}})).data.data;console.log(r),this.name=r.name,this.price=r.price,this.categoryId=r.CategoryId,this.image=r.imgUrl,this.imageUrl=r.imgUrl,this.stock=r.stock,this.description=r.description},onSubmitForm:async function(){try{const{id:a}=this.$route.params,t=new FormData;t.append("name",this.name),t.append("price",this.price),t.append("CategoryId",this.categoryId),t.append("description",this.description),t.append("stock",this.stock),this.fileBool?t.append("image",this.image):t.append("imgUrl",this.image);const i=await u({method:"put",url:"https://server-kfc-deploy-production.up.railway.app/products/"+a,data:t,headers:{access_token:localStorage.getItem("access_token")}});this.$router.push({path:"/admin/tables"}),this.getData(),S.fire({position:"top-end",icon:"success",title:"Your Update has saved",showConfirmButton:!1,timer:1500})}catch(a){console.log(a)}}},created(){this.getDataById()},props:["data"]},F={class:"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-blueGray-100 border-0"},B=e("div",{class:"rounded-t bg-white mb-0 px-6 py-6 mb-4"},[e("div",{class:"text-center flex justify-between"},[e("h6",{class:"text-blueGray-700 text-xl font-bold"}," Update Product KFC "),e("button",{class:"bg-emerald-500 text-white active:bg-emerald-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150",type:"submit"}," Update Product ")])],-1),D={class:"flex-auto px-4 lg:px-10 py-10 pt-0"},V={class:"flex flex-wrap"},j={class:"w-full lg:w-6/12 px-4"},N={class:"relative w-full mb-3"},P=e("label",{class:"block uppercase text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password"}," Name ",-1),M={class:"w-full lg:w-6/12 px-4"},q={class:"relative w-full mb-3"},A=e("label",{class:"block uppercase text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password"}," Price ",-1),L=e("hr",{class:"mt-6 border-b-1 border-blueGray-300"},null,-1),R={class:"flex flex-wrap mt-6"},z={class:"w-full"},K={class:"flex items-center justify-center w-60"},E={for:"dropzone-file",class:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600"},J=["src"],O={key:1,class:"flex flex-col items-center justify-center pt-5 pb-6"},T=G('<svg aria-hidden="true" class="w-10 h-10 mb-3 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg><p class="mb-2 text-sm text-gray-500 dark:text-gray-400"><span class="font-semibold">Click to upload</span> or drag and drop </p><p class="text-xs text-gray-500 dark:text-gray-400"> SVG, PNG, JPG or GIF (MAX. 800x400px) </p>',3),X=[T],Y={class:"w-full lg:w-4/12 px-4 mt-3"},H={class:"relative w-full mb-3"},Q=e("label",{class:"block uppercase text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password"}," Stock ",-1),W={class:"w-full lg:w-4/12 px-4 mt-3"},Z={class:"relative w-full mb-3"},$=e("label",{class:"block uppercase text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password"}," Category ",-1),ee=e("option",{selected:""},"Choose Category",-1),te=["value"],se=e("hr",{class:"mt-6 border-b-1 border-blueGray-300"},null,-1),oe=e("h6",{class:"text-blueGray-400 text-sm mt-3 mb-6 font-bold uppercase"}," Description ",-1),re={class:"flex flex-wrap"},ae={class:"w-full lg:w-12/12 px-4"},le={class:"relative w-full mb-3"},ne=e("label",{class:"block uppercase text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password"}," Description ",-1);function ie(a,t,i,r,o,d){return l(),n("form",{onSubmit:t[6]||(t[6]=v((...s)=>d.onSubmitForm&&d.onSubmitForm(...s),["prevent"]))},[e("div",F,[B,e("div",D,[e("div",V,[e("div",j,[e("div",N,[P,c(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.name=s),type:"text",class:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",placeholder:"KFC Ayam Goreng",required:""},null,512),[[p,o.name]])])]),e("div",M,[e("div",q,[A,c(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.price=s),type:"text",class:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",placeholder:"Rp.20.000 IDR",required:""},null,512),[[p,o.price]])])])]),L,e("div",R,[e("div",z,[e("div",K,[e("label",E,[o.imageUrl?(l(),n("img",{key:0,src:o.imageUrl,class:"w-full h-full"},null,8,J)):m("",!0),o.imageUrl?m("",!0):(l(),n("div",O,X)),e("input",{id:"dropzone-file",type:"file",onChange:t[2]||(t[2]=(...s)=>d.onSelectedImage&&d.onSelectedImage(...s)),class:"hidden",novalidate:""},null,32)])])]),e("div",Y,[e("div",H,[Q,c(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>o.stock=s),type:"number",class:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",required:"",min:"0"},null,512),[[p,o.stock]])])]),e("div",W,[e("div",Z,[$,c(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>o.categoryId=s),class:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"},[ee,(l(!0),n(_,null,w(r.useCategory.data,(s,b)=>(l(),n("option",{key:b,value:s.id},k(s.name),9,te))),128))],512),[[y,o.categoryId]])])])]),se,oe,e("div",re,[e("div",ae,[e("div",le,[ne,c(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=s=>o.description=s),type:"text",class:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",rows:"4",required:""},`
              `,512),[[p,o.description]])])])])])])],32)}const de=h(I,[["render",ie]]),ce={data(){return{data:null}},components:{CardFormUpdate:de}},pe={class:"flex flex-wrap mt-4 h-screen"},ue={class:"w-full mb-12 px-4"};function me(a,t,i,r,o,d){const s=U("card-form-update");return l(),n("div",pe,[e("div",ue,[C(s,{data:o.data},null,8,["data"])])])}const ge=h(ce,[["render",me]]);export{ge as default};
